<!DOCTYPE html>
<html lang="es">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Mapa Mental: Revoluci√≥n Industrial Brit√°nica</title>
  <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap" rel="stylesheet">
  <style>
    /* Variables CSS para la paleta de colores */
    :root {
      --color-primary: #3498db;
      /* Azul */
      --color-secondary: #e74c3c;
      /* Rojo */
      --color-success: #2ecc71;
      /* Verde */
      --color-bg: #f0f0f0;
      /* Gris claro */
      --color-text: #333;
      /* Gris oscuro */
    }

    body {
      font-family: 'Roboto', sans-serif;
      background-color: var(--color-bg);
      color: var(--color-text);
      margin: 0;
      padding: 20px;
    }

    h1 {
      text-align: center;
      color: var(--color-primary);
      text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.2);
    }

    .controls {
      display: flex;
      justify-content: space-between;
      align-items: center;
      background-color: #fff;
      padding: 10px 20px;
      border-radius: 10px;
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
      margin-bottom: 20px;
      transition: all 0.3s ease;
      /* Transici√≥n suave */
    }

    .controls:hover {
      box-shadow: 0 6px 12px rgba(0, 0, 0, 0.15);
      /* Sutil elevaci√≥n */
    }

    #resetBtn {
      background-color: var(--color-primary);
      color: white;
      border: none;
      padding: 10px 15px;
      border-radius: 5px;
      cursor: pointer;
      transition: background-color 0.3s ease;
    }

    #resetBtn:hover {
      background-color: darken(var(--color-primary), 10%);
      /* Oscurecer al hacer hover */
    }

    .container {
      display: grid;
      grid-template-columns: 1fr 2fr 1fr;
      gap: 20px;
    }

    .dropzone {
      background-color: #fff;
      border: 2px dashed #ccc;
      border-radius: 10px;
      padding: 10px;
      min-height: 200px;
      margin-bottom: 20px;
      transition: border-color 0.3s ease, background-color 0.3s ease;
    }

    .dropzone.correct {
      border-color: var(--color-success);
      background-color: #f0f9f4;
    }

    .dropzone h3,
    .draggables h3 {
      margin: 0 0 8px;
      color: var(--color-primary);
      font-size: 1.2rem;
      text-align: center;
    }

    .dropzone>div {
      margin: 6px 0;
      padding: 6px;
      background-color: #f9f9f9;
      border-radius: 4px;
    }

    .draggables ul {
      list-style: none;
      padding: 0;
      display: flex;
      flex-direction: column;
      gap: 10px;
    }

    .draggables li {
      background-color: #fff;
      padding: 10px;
      border-radius: 8px;
      box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
      cursor: grab;
      transition: all 0.3s ease;
    }

    .draggables li:hover {
      transform: translateY(-2px);
      /* Elevaci√≥n sutil */
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.15);
    }

    .draggables li[data-wrongs="1"] {
      background-color: #fff3cd;
    }

    .draggables li[data-wrongs="2"] {
      background-color: #ffe5b4;
    }

    .draggables li[data-wrongs="3"] {
      background-color: #f8d7da;
      animation: pulse-error 1s infinite;
      /* Animaci√≥n de pulso */
    }

    @keyframes pulse-error {
      0% {
        background-color: #f8d7da;
      }

      50% {
        background-color: #f2c9cc;
      }

      100% {
        background-color: #f8d7da;
      }
    }

    .message {
      text-align: center;
      font-size: 1.1rem;
      font-weight: bold;
      margin-bottom: 10px;
      opacity: 0;
      animation: fade-in-out 2s forwards;
      /* Animaci√≥n de aparici√≥n y desaparici√≥n */
    }

    @keyframes fade-in-out {
      0%,
      100% {
        opacity: 0;
      }

      10%,
      90% {
        opacity: 1;
      }
    }
  </style>
</head>

<body>
  <h1>Revoluci√≥n Industrial Brit√°nica</h1>
  <div class="controls">
    <div>üíØ Puntos: <strong id="score">0</strong></div>
    <div>‚è± Tiempo: <span id="timer">60</span>s</div>
    <button id="resetBtn">Reiniciar</button>
  </div>
  <div class="message" id="msg"></div>
  <div class="container">
    <div>
      <div class="dropzone" data-cat="A">
        <h3>Transformaciones agrarias y capital</h3>
      </div>
      <div class="dropzone" data-cat="B">
        <h3>Innovaci√≥n tecnol√≥gica y producci√≥n</h3>
      </div>
      <div class="dropzone" data-cat="C">
        <h3>Cambios en la vida social y laboral</h3>
      </div>
    </div>
    <div class="draggables">
      <h3>Opciones</h3>
      <ul id="list"></ul>
    </div>
    <div>
      <div class="dropzone" data-cat="D">
        <h3>Definici√≥n de la Revoluci√≥n Industrial</h3>
      </div>
      <div class="dropzone" data-cat="E">
        <h3>Intervenci√≥n estatal</h3>
      </div>
      <div class="dropzone" data-cat="F">
        <h3>Imperio y econom√≠a global</h3>
      </div>
    </div>
  </div>
  <script>
    (() => {
      const listEl = document.getElementById('list');
      const scoreEl = document.getElementById('score');
      const timerEl = document.getElementById('timer');
      const msgEl = document.getElementById('msg');
      const resetBtn = document.getElementById('resetBtn');
      const zones = [...document.querySelectorAll('.dropzone')];
      const data = [
        "La rotaci√≥n de cultivos y el arado de hierro multiplicaron la producci√≥n agr√≠cola y, al cercar tierras comunales, liberaron recursos que impulsaron la inversi√≥n en industria.|A",
        "Los excedentes agr√≠colas y los beneficios del comercio ultramarino generaron fondos esenciales para financiar f√°bricas textiles y sider√∫rgicas.|A",
        "Al ser expulsados de sus tierras, miles de campesinos migraron a las ciudades y se convirtieron en la principal fuerza laboral en las f√°bricas.|A",
        "Cuando las granjas produc√≠an m√°s de lo necesario, los excedentes fluyeron del campo a la ciudad para financiar la industria y promover nuevas innovaciones.|A",
        "Aunque muchas invenciones eran adaptaciones sencillas de herramientas previas, elevaron la producci√≥n fabril tanto que las ganancias se dispararon y atrajeron m√°s inversores.|B",
        "Quienes mejoraron la m√°quina de vapor y el telar mec√°nico lograron que las f√°bricas dejaran de depender de r√≠os y aumentaran mucho la producci√≥n diaria.|B",
        "La mezcla de saberes de artesanos y descubrimientos cient√≠ficos dio lugar a inventos como la lanzadera volante, que tej√≠a telas a una velocidad hasta cuatro veces mayor.|B",
        "Al fundir hierro con carb√≥n de coque se consigui√≥ un metal m√°s resistente, permitiendo fabricar m√°quinas con piezas que duraran m√°s.|B",
        "La incorporaci√≥n de silbatos y relojes en las f√°bricas cambi√≥ el ritmo de vida: ya no se reg√≠a por las estaciones, sino por horarios estrictos marcados por el patr√≥n.|C",
        "Al ser despojados de sus tierras y medios de producci√≥n, miles de campesinos migraron a las ciudades en busca de empleo en las f√°bricas.|C",
        "Surgi√≥ una clara divisi√≥n entre una clase de due√±os de f√°bricas con poder econ√≥mico y una creciente fuerza obrera que deb√≠a vender su trabajo por sueldos m√≠nimos.|C",
        "Vivir en barrios industriales implicaba habitar casas con mala ventilaci√≥n y servicios b√°sicos casi inexistentes, lo cual afectaba la salud comunitaria.|C",
        "Solo Gran Breta√±a logr√≥, entre 1780 y 1800, combinar recursos, mano de obra y apoyo estatal para iniciar esta transformaci√≥n hist√≥rica.|D",
        "El concepto de ‚Äútake-off‚Äù describe c√≥mo un encadenamiento de cambios t√©cnicos y sociales cre√≥ un crecimiento continuo sin a√±os de estancamiento.|D",
        "Este proceso cambi√≥ la forma de trabajar, reorganiz√≥ las estructuras sociales y redefini√≥ la relaci√≥n entre el Estado y la econom√≠a.|D",
        "La Revoluci√≥n Industrial no se redujo a innovaciones t√©cnicas aisladas; fue un proceso de m√∫ltiples relaciones que implic√≥ al campo, la ciencia y un Estado imperial.|D",
        "Las normas que proteg√≠an la propiedad privada y cercaron tierras comunales favorecieron a los rentistas y marginaron a los peque√±os labradores.|E",
        "El gobierno destin√≥ recursos a construir canales y caminos y luego otorg√≥ concesiones a empresas privadas para su explotaci√≥n.|E",
        "A trav√©s de decretos, se limitaron las importaciones de productos competidores y se protegi√≥ el mercado nacional de la industria emergente.|E",
        "Se crearon patentes y tribunales especiales para garantizar que los inventores recibieran reconocimiento y no perdieran sus derechos sobre las m√°quinas.|E",
        "El intercambio constante de materias primas y manufacturas cre√≥ una red econ√≥mica global donde los imperios depend√≠an de sus colonias.|F",
        "Gracias a acuerdos comerciales y al poder naval, Gran Breta√±a vend√≠a m√°quinas y bienes industriales en puertos de Asia, √Åfrica y Am√©rica.|F",
        "El algod√≥n enviado desde las colonias alimentaba los telares brit√°nicos, y los tejidos terminados regresaban como productos de lujo a esos mismos territorios.|F",
        "Las colonias suministraban minerales y combustible a bajo costo, lo que abarataba la producci√≥n de hierro y acero en las f√°bricas europeas.|F"
      ].map(t => {
        const [text, cat] = t.split('|');
        return {
          text,
          cat
        }
      });
      let remaining = [...data];
      let batch = [];
      let score = 0,
        timer, firstTurn = true;
      const wrongs = {};

      function shuffle(arr) {
        for (let i = arr.length - 1; i > 0; i--) {
          const j = Math.floor(Math.random() * (i + 1));
          [arr[i], arr[j]] = [arr[j], arr[i]];
        }
        return arr;
      }

      function updateScore(v) {
        score += v;
        scoreEl.textContent = score;
      }

      function startTimer(sec) {
        clearInterval(timer);
        timerEl.textContent = sec;
        timer = setInterval(() => {
          sec--;
          timerEl.textContent = sec;
          if (sec === 0) {
            clearInterval(timer);
            msgEl.textContent = '‚è∞ Tiempo agotado. -1 punto.';
            updateScore(-1);
            nextBatch();
          }
        }, 1000);
      }

      function renderList() {
        listEl.innerHTML = '';
        const frag = document.createDocumentFragment();
        batch.forEach(it => {
          const li = document.createElement('li');
          li.textContent = it.text;
          li.dataset.cat = it.cat;
          const w = wrongs[it.text] || 0;
          if (w) li.dataset.wrongs = w;
          li.draggable = true;
          li.ondragstart = e => e.dataTransfer.setData('text/plain', it.text);
          frag.appendChild(li);
        });
        listEl.appendChild(frag);
      }

      function nextBatch() {
        if (!remaining.length && batch.length === 0) {
          msgEl.textContent = 'üéâ Completado';
          clearInterval(timer);
          return;
        }

        let numItems = 0;
        if (firstTurn) {
          numItems = 5;
        } else if (remaining.length > 5) {
          numItems = 3;
        } else {
          numItems = 1;
        }

        batch = shuffle(remaining).slice(0, numItems);
        renderList();
        startTimer(firstTurn ? 60 : 40);
        firstTurn = false;
      }

      zones.forEach(z => {
        z.ondragover = e => e.preventDefault();
        z.ondrop = e => {
          e.preventDefault();
          clearInterval(timer);
          const text = e.dataTransfer.getData('text/plain');
          const item = batch.find(it => it.text === text);
          const correct = item.cat === z.dataset.cat;
          if (correct) {
            z.classList.add('correct');
            const div = document.createElement('div');
            div.textContent = text;
            z.appendChild(div);
            remaining = remaining.filter(it => it.text !== text);
            updateScore(2);
            msgEl.textContent = '‚úÖ +2';
          } else {
            wrongs[text] = (wrongs[text] || 0) + 1;
            updateScore(-1);
            msgEl.textContent = 'üî¥ -1';
          }
          batch = batch.filter(it => it.text !== text);
          nextBatch();
        };
      });

      resetBtn.onclick = () => {
        zones.forEach(z => {
          z.classList.remove('correct');
          [...z.querySelectorAll('div')].forEach(d => d.remove());
        });
        remaining = [...data];
        score = 0;
        firstTurn = true;
        Object.keys(wrongs).forEach(k => delete wrongs[k]);
        msgEl.textContent = '';
        updateScore(0);
        nextBatch();
      };

      nextBatch();
    })();
  </script>
</body>

</html>
